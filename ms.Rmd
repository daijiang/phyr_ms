---
title: "`phyr`: An R package for model-based phylogenetic analyses"
author: "Daijiang Li, Russell Dinnage, Lucas Nell, Anthony Ives"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  bookdown::html_document2:
    number_sections: no
    theme: readable
    toc: yes
  bookdown::word_document2: 
    toc: no
  bookdown::tufte_html2:
    number_sections: no
    toc: yes
fontsize: 12pt
link-citations: yes
csl: https://raw.githubusercontent.com/citation-style-language/styles/master/methods-in-ecology-and-evolution.csl
bibliography: ref.bib
---

```{r knitr_options, include = FALSE}
if(!require("xfun")) devtools::install_github("yihui/xfun")
if(!require("phyr")) devtools::install_github("daijiang/phyr")
xfun::pkg_attach2(c("knitr", "kableExtra", "kableExtra", "dplyr"))
# opts_knit$set(root.dir = normalizePath("../"))
opts_chunk$set(fig.align='center', cache = FALSE, warning = FALSE, 
               message = FALSE, echo = TRUE)
options(digits = 3, width = 88, knitr.kable.NA = '')
```

Running Title: Model-based phylogenetic analyses

*Summary*

1. Phylogenetic relationships among species are both a challenge and an opportunity for community ecology and comparative biology. Model-based phylogenetic analysis has advantages ... Currently, R functions to conduct these analyses were distributed across different packages and were mostly written in R, which can be very slow with large datasets.
2. To help remedy this situation, we created `phyr`, an R package that collects and updates functions to conduct model-based phylogenetic analyses. By collecting these functions into one package and rewrite core functions in c++, this package can facilitate the use of model-based phylogenetic analyses.
3. This paper presents the main functions of the package and provides an example using simulated data.
4. The `phyr` package provides a unified software environment with improved performance to conduct model-based phylogenetic analyses.

# Introduction

(2-3 paragraphs)

Phylogenetic relationships: importance and challenges

Model-based methods for phylogenetic analysis: advantages

The need of an R package to facilitate model-based phylogenetic analysis

Example of citations: [@r2017], [@ives2011generalized]

Testing citation of Tony's new book [Dinnage]: [@ives2018book] (BTW, n.p. means No Place, and Author is in place of publisher, since the book is self-published)

# Package architecture

Main functions provided by `phyr` can be found in Table \@ref(tab:mainFunc).

(ref:maunFuncCaption) Main functions in `phyr`.

```{r mainFunc, echo=FALSE}
read.csv("phyr_func.csv", check.names = FALSE) %>% 
  knitr::kable(caption = "(ref:maunFuncCaption)", booktab = T) %>%
  kableExtra::kable_styling(bootstrap_options = c("striped", "scale_down", "hover"),
                latex_options = c("striped")) %>% 
  kableExtra::column_spec(1, width = "20%")
```



Then brief introduction of each topic

## Phylogenetic diversity

## Cor_phy

## Phylogenetic Generalized Linear Mixed Models



### ML

### Bayes

### Other functions 

Such as `communityPGLMM.plot.re()`.

# Example analysis

# Conclusion

# Acknowledgements

# Authors' contributions

# Data Accessibility

# References
